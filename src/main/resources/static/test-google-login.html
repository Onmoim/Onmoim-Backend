<!DOCTYPE html>
<html>
<head>
    <title>Google OAuth Test</title>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
<h2>Google Login</h2>
<div id="g_id_onload"
     data-client_id="809915801803-pfg8ovd4klni224eom2nsjrcu7k7sfgf.apps.googleusercontent.com"
     data-callback="handleCredentialResponse"
     data-auto_prompt="false">
</div>
<div class="g_id_signin" data-type="standard"></div>

<script>
    function handleCredentialResponse(response) {
        const idToken = response.credential;
        console.log("ID Token:", idToken);

        // ë°±ì—”ë“œë¡œ POST ìš”ì²­
        // fetch(`${window.location.origin}/api/v1/auth/oauth`, {
        //     method: "POST",
        //     headers: { "Content-Type": "application/json" },
        //     body: JSON.stringify({
        //         provider: "google",
        //         token: idToken
        //     })
        // })
        //     .then(res => {
        //         console.log("raw response:", res);
        //         return res.json();
        //     })
        //     .then(data => {
        //         console.log("response:", data);
        //         console.log("keys:", Object.keys(data));
        //         alert("token: " + idToken);
        //     })
        //     .catch(err => {
        //         console.error("ðŸš¨ fetch or JSON parse error:", err);
        //     });
    }
</script>
</body>
</html>
